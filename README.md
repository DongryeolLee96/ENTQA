# Entity driven expansion README

This is the repository documenting the paper
[Return of EM: Entity-driven Answer Set Expansion for QA Evaluation](https://arxiv.org/abs/2404.15650)
by Dongryeol Lee, Minwoo Lee, Kyungmin Min, Joonsuk Park, and Kyomin Jung.

![Main Figure](image/figure.png)

# Dataset
## Data Description
  Each data point in our dataset is represented as a dictionary with the following keys:
```
  "question": The question asked in the Open-QA task.
  "golden_answer": The gold standard answers to the question (provided in list). 
  "answer_fid", "answer_gpt35", "answer_chatgpt", "answer_gpt4", "answer_newbing": The answers generated by different models (FiD, GPT-3.5, ChatGPT-3.5, GPT-4, and New Bing, respectively).
  "judge_fid", "judge_gpt35", "judge_chatgpt", "judge_gpt4", "judge_newbing": Boolean values indicating whether the corresponding model's answer was judged to be correct or incorrect (True for correct, False for incorrect) by human.
  "ans_type": Entity type of golden answer. We utilize Spacy's NER to classify each answer-set into 19 categories.
  "fb": Answer-set expanded by utilizing the Freebase knowledge base.
  "wiki": Answer-set expanded by utilizing the Wikipedia. Only available for TriviaQA.
  "entity_expand": Answer-set expanded by our Entity-driven Answer-set Expansion.
```

  Here is an example of a data point:
```
{
'question': 'who got the first nobel prize in physics',
 'golden_answer': ['Wilhelm Conrad Röntgen'],
 'answer_fid': 'Wilhelm Röntgen',
 'judge_fid': True,
 'answer_gpt35': 'The first Nobel Prize in Physics was awarded to Wilhelm Röntgen in 1901.',
 'judge_gpt35': True,
 'answer_chatgpt': 'The first Nobel Prize in Physics was awarded in 1901 to Wilhelm Röntgen for his discovery of X-rays.',
 'judge_chatgpt': True,
 'answer_gpt4': 'The first Nobel Prize in Physics was awarded in 1901 to Wilhelm Conrad Röntgen, a German physicist. He received the prize for his discovery of X-rays, a groundbreaking achievement that revolutionized the fields of medicine, physics, and chemistry.',
 'judge_gpt4': True,
 'answer_newbing': 'According to Wikipedia, Wilhelm Conrad Röntgen of Germany got the first Nobel Prize in Physics in 1901 for his discovery of X-rays.  He received 150,782 SEK (Swedish krona) as the prize money.',
 'judge_newbing': True,
 'ans_type': 'PERSON',
 'fb': ['Wilhelm Conrad Röntgen', 'wilhelm conrad röntgen'],
 'entity_expand': ['Wilhelm Conrad Röntgen',
  'Conrad Röntgen',
  'Wilhelm Röntgen',
  'Röntgen',
  'Wilhelm C. Röntgen']
}
```

## Data Size
The size of our dataset is detailed in the table below:
 |models | Natural Questions| TriviaQA |
 |------------------------------|------------------------------|------------------------------|
 |DPR+FiD |3020|1938|
 |GPT-3.5 |3020|1938|
 |ChatGPT-3.5 |3020|1938|
 |ChatGPT-4 |3020|1938|
 |Bing Chat |3020|1938|

We only use data instances where improper is set to False from [EVOUNA](https://proceedings.neurips.cc/paper_files/paper/2023/file/f323d594aa5d2c68154433a131c07959-Paper-Datasets_and_Benchmarks.pdf)

## Entity type Statistics 
|models | Natural Questions| TriviaQA |
 |------------------------------|------------------------------|------------------------------|
 |DATE |499|52|
 |CARDINAL |169|105|
 |QUANTITY |19|1|
 |ORDINAL |13|3|
 |MONEY |11|4|
 |PERCENT |10|2|
 |TIME |7|5|
 |PERSON |1035|744|
 |GPE |288|296|
 |ORG |198|380|
 |NORP |80|58|
 |LOC |46|32|
 |WORK_OF_ART |14|17|
 |FAC |17|17|
 |PRODUCT |13|21|
 |EVENT |8|9|
 |LAW |4|2|
 |LANGUAGE |3|1 |
 |Unknown |586|189|
 |Total |3020|1938|

 # Citation

 If you find the our dataset useful, please cite our paper:
```bibtex
@article{
lee2024return,
  title={Return of EM: Entity-driven Answer Set Expansion for QA Evaluation},
  author={Lee, Dongryeol and Lee, Minwoo and Min, Kyungmin and Park, Joonsuk and Jung, Kyomin},
  journal={arXiv preprint arXiv:2404.15650},
  year={2024}
}
```

Please also make sure to credit and cite the creators of EVOUNA, Natural Questions and TriviaQA, the dataset which we built ours off of:
```bibtex
@inproceedings{
  wang2023evaluating,
  title={Evaluating Open-{QA} Evaluation},
  author={Cunxiang Wang and Sirui Cheng and Qipeng Guo and Yuanhao Yue and Bowen Ding and Zhikun Xu and Yidong Wang and Xiangkun Hu and Zheng Zhang and Yue Zhang},
  booktitle={Thirty-seventh Conference on Neural Information Processing Systems Datasets and Benchmarks Track},
  year={2023},
  url={https://openreview.net/forum?id=UErNpveP6R}
}


@article{
kwiatkowski2019natural,
  title={ Natural questions: a benchmark for question answering research},
  author={ Kwiatkowski, Tom and Palomaki, Jennimaria and Redfield, Olivia and Collins, Michael and Parikh, Ankur and Alberti, Chris and Epstein, Danielle and Polosukhin, Illia and Devlin, Jacob and Lee, Kenton and others },
  journal={ Transactions of the Association for Computational Linguistics },
  year={ 2019 }
}


@inproceedings{
joshi2017triviaqa,
  title={TriviaQA: A Large Scale Distantly Supervised Challenge Dataset for Reading Comprehension},
  author={Joshi, Mandar and Choi, Eunsol and Weld, Daniel S and Zettlemoyer, Luke},
  booktitle={Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)},
  pages={1601--1611},
  year={2017}
}
```

